<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{admin/fragments/admin-layout}">

<head>
  <title>Manage Planets</title>
</head>

<body>
  <div layout:fragment="content">
    <div class="page-header">
      <div>
        <h1 class="page-title">Manage Planets</h1>
        <p style="color: var(--text-muted);">View, edit, and manage celestial bodies</p>
      </div>
      <a href="/admin/planets/new" class="btn btn-primary">
        <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
        </svg>
        Add New Planet
      </a>
    </div>

    <div class="table-container">
      <table class="admin-table">
        <thead>
          <tr>
            <th>Planet</th>
            <th>Mass (10²⁴ kg)</th>
            <th>Radius (km)</th>
            <th>Gravity (m/s²)</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="planet : ${planets}">
            <td>
              <div style="display: flex; align-items: center; gap: 1rem;">
                <div style="width: 48px; height: 48px; border-radius: 8px; overflow: hidden; background: #000;">
                  <img th:src="${planet.imageFilename}" alt="Planet"
                    style="width: 100%; height: 100%; object-fit: cover;">
                </div>
                <div>
                  <div style="font-weight: 600; color: white;" th:text="${planet.name}">Planet Name</div>
                  <div style="font-size: 0.875rem; color: var(--text-muted);" th:text="${planet.shortDescription}">
                    Description</div>
                </div>
              </div>
            </td>
            <td th:text="${planet.mass}">0.0</td>
            <td th:text="${planet.radius}">0.0</td>
            <td th:text="${planet.gravity}">0.0</td>
            <td>
              <div style="display: flex; gap: 0.5rem;">
                <a th:href="@{'/admin/planets/edit/' + ${planet.id}}" class="btn btn-sm"
                  style="background: rgba(255,255,255,0.1); color: white;">Edit</a>
                <button class="btn btn-sm btn-danger"
                  th:onclick="|confirmDelete('/admin/planets/delete/' + ${planet.id})|">Delete</button>
                <a th:href="@{'/planet/' + ${planet.name}}" target="_blank" class="btn btn-sm"
                  style="background: rgba(123, 97, 255, 0.1); color: var(--primary);">View</a>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <script>
    function confirmDelete(url) {
      if (confirm('Are you sure you want to delete this planet?')) {
        window.location.href = url;
      }
    }
  </script>
</body>

</html>